<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<div class="am-u-lg-12 am-cf" th:fragment="pagination">
		<div class="am-fr">
	     <ul class="am-pagination tpl-pagination" th:if="${page.totalPages le 7}">
		    <!-- 上一页 -->
		    <li th:class="${page.first} ? 'am-disabled' : ''">
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number} - 1">«</a>
		    </li>
		     
		    <!-- 迭代生成页码 -->
		    <li th:each="i : ${#numbers.sequence(1, page.totalPages)}"
		        th:class="${(page.number + 1) eq i} ? 'am-active am-disabled' : ''" >
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${i} - 1" th:text="${i}"></a>
		    </li>
		     
		    <!-- 下一页 -->
		    <li th:class="${page.last} ? 'am-disabled' : ''">
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number} + 1">»</a>
		    </li>
		</ul>
		
		
	      <ul class="am-pagination tpl-pagination" th:if="${page.totalPages gt 7}" >
		  <!--   上一页 -->
		    <li th:class="${page.first} ? 'am-disabled' : ''">
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number} - 1">«</a>
		    </li>
		     
		    <!--     首页 -->
		    <li th:class="${(page.number + 1) eq 1} ? 'am-active am-disabled' : ''" >
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=0">1</a>
		    </li>
		      
		     
		 <!--    当前页面小于等于4 -->
		    <li th:if="${(page.number + 1) le 4}" th:each="i : ${#numbers.sequence(2,5)}"
		        th:class="${(page.number + 1) eq i} ? 'am-active am-disabled' : ''" >
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:text="${i}" th:attr="pageIndex=${i} - 1"></a>
		    </li>
		 
		    <li class="am-disabled" th:if="${(page.number + 1) le 4}">
		        <a href="javascript:;">...</a>
		    </li>
		     
		 <!--    最后一页与当前页面之差，小于等于3 -->
		    <li class="am-disabled" th:if="${(page.totalPages-(page.number + 1)) le 3}">
		        <a href="javascript:;">...</a>
		    </li>  
		    <li th:if="${(page.totalPages-(page.number + 1)) le 3}" th:each="i : ${#numbers.sequence(page.totalPages-4, page.totalPages-1)}"
		        th:class="${(page.number + 1) eq i} ? 'am-active am-disabled' : ''" >
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:text="${i}" th:attr="pageIndex=${i} - 1"></a>
		    </li>
		  
		    <!--  最后一页与当前页面之差大于3，且  当前页面大于4 -->
		      
		    <li class="am-disabled" th:if="${((page.number + 1) gt 4) && ((page.totalPages-(page.number + 1)) gt 3 )}">
		        <a href="javascript:;">...</a>
		    </li> 
		    <li th:if="${((page.number + 1) gt 4) && ((page.totalPages-(page.number + 1)) gt 3 )}" >
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number}">[[${page.number}]]</a>
		    </li>
		    <li class="am-active am-disabled" th:if="${((page.number + 1) gt 4) && ((page.totalPages-(page.number + 1)) gt 3 )}">
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number} + 1">[[${page.number + 1}]]</a>
		    </li>
		    <li th:if="${((page.number + 1) gt 4) && ((page.totalPages-(page.number + 1)) gt 3 )}">
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number} + 2">[[${page.number + 2}]]</a>
		    </li>
		     
		    <li class="am-disabled"  th:if="${((page.number + 1) gt 4) && ((page.totalPages-(page.number + 1)) gt 3 )}">
		        <a href="javascript:;">...</a>
		    </li>
		 
		   <!--  最后一页 -->
		    <li th:class="${(page.number + 1) eq page.totalPages} ? 'am-active am-disabled' : ''" >
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.totalPages} - 1">[[${page.totalPages}]]</a>
		    </li>
		 
		      <!--   下一页 -->
		    <li th:class="${page.last} ? 'am-disabled' : ''">
		        <a href="javascript:;" th:onclick="|jumpPage(this)|" th:attr="pageIndex=${page.number} + 1">»</a>
		    </li>
		</ul>
  	</div>
  </div>
</body>
</html>
	